<clr-main-container>
  <clr-header class="header-6">
    <div class="branding">
        <a href="javascript://" class="nav-link">
            <cds-icon shape="bolt" solid></cds-icon>
            <span class="title">zappedit</span>
        </a>
    </div>
    <form class="search" onsubmit="return false;" >
      <label for="search-input-sidenav-ng">
        # <input id="search-input-sidenav-ng" class="zappedit-search-box" type="text" placeholder="Search for any hashtag" (keyup.enter)="search()" value={{currentlyShowingTag}}/>
        <cds-icon shape="child-arrow" solid flip="horizontal"></cds-icon> 
      </label>
    </form>
    <div class="header-actions">
      
        <a href="javascript://" class="nav-link nav-icon-text">          
          <cds-icon shape="user"></cds-icon>            
            <span class="nav-text"><app-userprofile/></span>
        </a>
    </div>
</clr-header>
<div class="content-container">
  <clr-vertical-nav [clr-nav-level]="2">
      <a clrVerticalNavLink  *ngFor="let topic of followedTopics"
          href="/t/{{topic}}">#{{topic}}</a>    
      <div class="nav-divider"></div>
      <a clrVerticalNavLink  routerLink="./credit" routerLinkActive="active">Credit</a>
  </clr-vertical-nav>
      <div class="content-area">
        <div *ngIf="isLoggedIn(); else notloggedin">
          <h3 align="center">#{{currentlyShowingTag}}
            <ng-template [ngIf]="!isTopicFollowed(currentlyShowingTag)" [ngIfElse]="elseBlock">                         
                <button class="btn btn-primary btn-icon" (click)="followTopic(currentlyShowingTag)"><cds-icon shape="plus-circle" solid></cds-icon> Follow</button>           
            </ng-template>
            <ng-template #elseBlock>              
              <button class="btn btn-warning btn-icon" (click)="unfollowTopic(currentlyShowingTag)"><cds-icon shape="logout" solid></cds-icon> Unfollow</button>           
            </ng-template>
          </h3>          
          <app-event-feed tag={{currentlyShowingTag}}/>
        </div>
        <ng-template #notloggedin> 
          
        <div align="center">
          <span class="spinner">
          </span>
          <div>
            <h3>Loading...</h3>
            <p>Don't have a NIP-07 plugin? Refer <a href="https://github.com/nostr-protocol/nips/blob/master/07.md#implementation" target="_blank">this page</a></p>
          </div>

        </div>
        </ng-template>
   </div>
   
  </div>
</clr-main-container>